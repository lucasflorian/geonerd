{"version":3,"sources":["app.js","country-nerd.js","navigation.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["class GeoNerdApp{\n\tconstructor(props) {\n\t\tdocument.addEventListener(\"DOMContentLoaded\", () => {\n\t\t\tnew GeoNerdNavigation();\n\t\t\tnew CountryNerd();\n\t\t});\n\t}\n\n\tstatic loadCountries(callback){\n\t\tvar xobj = new XMLHttpRequest();\n\t\txobj.overrideMimeType(\"application/json\");\n\t\txobj.open('GET', './data/countries-fr.json', true); // Replace 'my_data' with the path to your file\n\t\txobj.onreadystatechange = function () {\n\t\t\tif (xobj.readyState === 4 && xobj.status === 200) {\n\t\t\t\tcallback(xobj.responseText);\n\t\t\t}\n\t\t};\n\t\txobj.send(null);\n\t}\n}\n\nnew GeoNerdApp();\n","class CountryNerd {\n\tconstructor() {\n\n\t\tthis.countries = {};\n\t\tthis.currentLetter = \"a\";\n\t\tthis.countriesFound = 0;\n\t\tthis.loadCountries();\n\n\t\tthis.firstAnswer = document.querySelector(\".answers .answer\");\n\t\tthis.answers = document.querySelector(\".answers\");\n\t\tthis.answerContainer = document.querySelector(\".answer-container\");\n\t\tthis.answerInput = document.querySelector(\"#country-answer-input\");\n\t\tthis.answerButton = document.querySelector(\"#country-answer-validate\");\n\t\tthis.letters = document.querySelectorAll(\".letter\");\n\t\tthis.wonLink = document.querySelector(\".won-link\");\n\n\t\tthis.buildLetters();\n\t\tthis.buildInputs();\n\n\t}\n\n\tbuildLetters() {\n\t\tconst letterPlaceholder = document.querySelector(\".letter-placeholder\");\n\t\tconst mainTitle = document.querySelector(\".country-nerd h1\");\n\t\tconst gameTitle = document.querySelector(\".game-title\");\n\t\tconst lettersContainer = document.querySelector(\".letters\");\n\n\t\tthis.letters.forEach(letter => {\n\t\t\tconst letterText = letter.innerHTML.toLowerCase();\n\t\t\tif(localStorage.getItem(\"countrynerd.letter.\" + letterText) === \"true\"){\n\t\t\t\tletter.classList.add(\"completed\");\n\t\t\t}\n\t\t\tletter.addEventListener(\"click\", () => {\n\t\t\t\tthis.currentLetter = letterText;\n\t\t\t\tlettersContainer.classList.add(\"hide\");\n\t\t\t\tgsap.to(mainTitle, {\n\t\t\t\t\topacity: 0,\n\t\t\t\t\tpointerEvents: \"none\",\n\t\t\t\t\tdelay: 0.2\n\t\t\t\t});\n\t\t\t\tgsap.to(gameTitle, {\n\t\t\t\t\topacity: 1,\n\t\t\t\t\tdelay: 0.5\n\t\t\t\t});\n\t\t\t\tletterPlaceholder.innerHTML = letterText;\n\t\t\t\tthis.firstAnswer.innerHTML = letterText;\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tlettersContainer.style.display = \"none\";\n\t\t\t\t\tthis.answerContainer.style.display = \"flex\";\n\t\t\t\t\tgsap.to(this.answerContainer, {\n\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\tdelay: 0.1\n\t\t\t\t\t});\n\t\t\t\t\tthis.answerInput.focus();\n\t\t\t\t}, 400);\n\t\t\t});\n\t\t});\n\t}\n\n\tloadCountries() {\n\n\t\tGeoNerdApp.loadCountries(json => {\n\t\t\tJSON.parse(json).forEach(country => {\n\t\t\t\tconst letter = this.sanitize(country.name.substr(0, 1));\n\t\t\t\tif (!this.countries[letter]) {\n\t\t\t\t\tthis.countries[letter] = [];\n\t\t\t\t}\n\t\t\t\tthis.countries[letter].push({\n\t\t\t\t\tsanitize: this.sanitize(country.name),\n\t\t\t\t\tname: country.name,\n\t\t\t\t\tcode: country.code\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n\n\tbuildInputs() {\n\t\tthis.answerInput.addEventListener(\"change\", e => {\n\t\t\tthis.validateAnswer(e.target.value);\n\t\t});\n\t\tthis.answerButton.addEventListener(\"click\", e => {\n\t\t\tthis.validateAnswer(this.answerInput.value);\n\t\t});\n\t}\n\n\tvalidateAnswer(answer) {\n\t\tlet win = false;\n\t\tthis.countries[this.currentLetter].forEach(country => {\n\t\t\tif (answer === country.sanitize && !country.found) {\n\t\t\t\twin = true;\n\t\t\t\tthis.answerInput.value = \"\";\n\t\t\t\tcountry.found = true;\n\t\t\t\tconst rightAnswer = document.querySelector(\".answers .answer:last-child\");\n\t\t\t\trightAnswer.innerHTML = country.name;\n\t\t\t\trightAnswer.classList.add(\"valid\");\n\t\t\t\tthis.countriesFound++;\n\t\t\t\tif (this.countriesFound === this.countries[this.currentLetter].length) {\n\t\t\t\t\tthis.finished = true;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tif (win) {\n\t\t\tif (this.finished) {\n\t\t\t\tthis.wonLink.classList.add(\"show\");\n\t\t\t\tlocalStorage.setItem(\"countrynerd.letter.\" + this.currentLetter, \"true\");\n\t\t\t} else {\n\t\t\t\tthis.answers.insertAdjacentHTML(\"beforeend\", `<div class=\"answer\">${this.currentLetter}</div>`);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.answerInput.value = \"\";\n\t\t}\n\t}\n\n\tsanitize(value) {\n\t\treturn value.toLowerCase().normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\");\n\t}\n}\n","class GeoNerdNavigation {\n\tconstructor() {\n\t\tthis.pages = document.querySelectorAll(\".pages .page\");\n\n\t\tthis.changePage();\n\n\t\twindow.addEventListener(\"hashchange\", e => {\n\t\t\tthis.changePage();\n\t\t});\n\t}\n\n\tchangePage() {\n\t\tlet navTo = location.hash;\n\t\tif (!navTo){\n\t\t\tnavTo = \"home\";\n\t\t}\n\t\tconst nextPage = document.querySelector(navTo);\n\t\tif (nextPage) {\n\t\t\tthis.pages.forEach(page => {\n\t\t\t\tpage.classList.remove(\"active\");\n\t\t\t});\n\t\t\tnextPage.classList.add(\"active\");\n\t\t}\n\t}\n}\n"]}